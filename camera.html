<!DOCTYPE html>
<html>
  <head>
    <title>video-codec.js Camera Test</title>
    <meta charset="UTF-8">
    <script src="renderer.js" type="text/javascript"></script>
    <script src="sylvester.js" type="text/javascript"></script>
    <script src="camera.js" type="text/javascript"></script>
    <style>
      * { font-size: small; }
      fieldset { display: inline; padding: 0.5ex; margin-bottom: 1ex}
    </style>
  </head>
  <body>
    <div>
      <div style="margin-bottom:1em">
        <fieldset>
          <legend>config</legend>
          <label for="encoder">encoder:</label>
          <select id="encoder" name="encoder">
            <option value="x264">x264</option>
            <option value="openh264">openH264</option>
          </select>
          <label for="renderer">renderer:</label>
          <select id="renderer">
            <option value="webgl">WebGL</option>
            <option value="rgb">putImgDat</option>
          </select>
          <label>video-size:</label>
          <select id="capture_scale">
            <option value="0.25">25%</option>
            <option value="0.50">50%</option>
            <option value="0.75">75%</option>
            <option value="1.00" selected>100%</option>
          </select>
        </fieldset>
        <fieldset id="x264cfg">
          <legend>x264 config</legend>
          <label for="x264rcmode">mode:</label>
          <select id="x264rcmode" name="x264rcmode">
            <option value="quality">Quality</option>
            <option value="bitrate">Bitrate(kbps)</option>
          </select>
          <input type="number" min="0" max="51" step="0.1" id="x264quality" name="x264quality" value="23" style="width:4em;text-align:right">
          <input type="number" min="0" max="300000" step="10" id="x264bitrate" name="x264bitrate" value="1000" size="4" style="width:4em;text-align:right">
          <label for="x264presets">preset:</label>
          <select id="x264presets" name="x264presets">
            <option value="ultrafast" selected>UltraFast</option>
            <option value="superfast">SuperFast</option>
            <option value="veryfast">VeryFast</option>
            <option value="faster">Faster</option>
            <option value="fast">Fast</option>
            <option value="medium">Medium</option>
            <option value="slow">Slow</option>
            <option value="slower">Slower</option>
            <option value="veryslow">VerySlow</option>
            <option value="placebo">Placebo</option>
          </select>
          <label for="x264tune">tune:</label>
          <select id="x264tune" name="x264tune">
            <option value="" selected>default</option>
            <option value="film">film</option>
            <option value="animation">animation</option>
            <option value="grain">grain</option>
            <option value="stillimage">stillimage</option>
            <option value="psnr">psnr</option>
            <option value="ssim">ssim</option>
            <option value="fastdecode">fastdecode</option>
            <option value="zerolatency">zerolatency</option>
          </select>
        </fieldset>
        <button id="start">start</button>
        <div id="status">(- fps - kbps - kbit/frame (avg: - fps - kbps -kbit/frame)</div>
      </div>
      <div style="display: inline-block">
        <div>source</div>
        <canvas id="canvas_src"></canvas>
      </div>
      <div style="display: inline-block">
        <div>decoded</div>
        <canvas id="canvas_dst"></canvas>
      </div>
    </div>
    <video id="video" style="display:none"></video>
  </body>
</html>
